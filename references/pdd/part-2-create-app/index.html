
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/dl-logo-big-512x512-color.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.0.5">
    
    
      
        <title>Part 2 - Desktop App - DrLiptons</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a617204b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.9204c3b2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link rel="stylesheet" href="../../../overrides/assets/stylesheets/main.d9227bb8.min.css">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plant-disease-detection-part-2-build-a-desktop-application" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DrLiptons" class="md-header__button md-logo" aria-label="DrLiptons" data-md-component="logo">
      
  <img src="../../../assets/dl-logo-big-512x512-color.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DrLiptons
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part 2 - Desktop App
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../wip/" class="md-tabs__link">
      In Progress
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../reference/" class="md-tabs__link md-tabs__link--active">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../resource/" class="md-tabs__link">
        Resource
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DrLiptons" class="md-nav__button md-logo" aria-label="DrLiptons" data-md-component="logo">
      
  <img src="../../../assets/dl-logo-big-512x512-color.png" alt="logo">

    </a>
    DrLiptons
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../wip/" class="md-nav__link">
        In Progress
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../get-live-financial-data/" class="md-nav__link">
        Get Live Financial Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../flight-deals/" class="md-nav__link">
        Flight Deals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../alien-invaders/" class="md-nav__link">
        Alien Invaders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../auto-job-app/" class="md-nav__link">
        Automated Job Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../price-tracker/" class="md-nav__link">
        Price Tracker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../password-manager/" class="md-nav__link">
        Password Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../text-2-morse-code/" class="md-nav__link">
        Text2MorseCode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stock-news-alerts/" class="md-nav__link">
        Stock News Alert
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tetris/" class="md-nav__link">
        Tetris Clone
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" checked>
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          TensorFlow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TensorFlow" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          TensorFlow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_1" type="checkbox" id="__nav_4_3_1" checked>
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3_1">
          Plant Disease Detection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plant Disease Detection" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          Plant Disease Detection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plant-disease-detection/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../part-1-create-ml-model/" class="md-nav__link">
        Part 1 - Create ML Model
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Part 2 - Desktop App
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Part 2 - Desktop App
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plant-disease-detection-part-2-build-a-desktop-application" class="md-nav__link">
     Plant Disease Detection: Part 2 Build a desktop application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-expect" class="md-nav__link">
    What to expect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-the-application-layout-and-functionalities" class="md-nav__link">
    Design the application layout and functionalities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-coding" class="md-nav__link">
    Start coding
  </a>
  
    <nav class="md-nav" aria-label="Start coding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structuring-the-project" class="md-nav__link">
    Structuring the Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-application-manager-code" class="md-nav__link">
    The Application Manager Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-gui-with-tkinter" class="md-nav__link">
    Create a GUI with tkinter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-the-backend-algorithm" class="md-nav__link">
    Code the Backend Algorithm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-finished-application" class="md-nav__link">
    Run the Finished Application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    What's next
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../part-3-make-exe/" class="md-nav__link">
        Part 3 - Make Executable
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../object-detection/" class="md-nav__link">
        Object Detection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          Resource
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resource" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Resource
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resource/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/python/scikit-learn/" class="md-nav__link">
        Scikit-Learn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/python/matplotlib/" class="md-nav__link">
        Matplotlib
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/python/numpy/" class="md-nav__link">
        Numpy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/python/pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/python/mplfinance/" class="md-nav__link">
        mplfinance
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          TensorFlow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TensorFlow" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          TensorFlow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_1" type="checkbox" id="__nav_5_3_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_1">
          TensorFlow Exam
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TensorFlow Exam" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_3_1">
          <span class="md-nav__icon md-icon"></span>
          TensorFlow Exam
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-exam/tf-exam-overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_1_2" type="checkbox" id="__nav_5_3_1_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_1_2">
          Coursera - DeepLearning.AI TensorFlow Developer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Coursera - DeepLearning.AI TensorFlow Developer" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          Coursera - DeepLearning.AI TensorFlow Developer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-exam/cs-part-1/" class="md-nav__link">
        Part 1 - Introduction to TF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-exam/cs-part-2/" class="md-nav__link">
        Part 2 - CNN in TF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-exam/cs-part-3/" class="md-nav__link">
        Part 3 -  NLP in TF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-exam/cs-part-4/" class="md-nav__link">
        Part 4 - Time Series
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-exam/pass-tensorflow-cert/" class="md-nav__link">
        How I past TensorFlow Exam
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/tf-model-bp/" class="md-nav__link">
        TensorFlow Blueprint
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_3" type="checkbox" id="__nav_5_3_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_3">
          TensorFlow Models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TensorFlow Models" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_3_3">
          <span class="md-nav__icon md-icon"></span>
          TensorFlow Models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/model-list/" class="md-nav__link">
        List of Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_3_2" type="checkbox" id="__nav_5_3_3_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_3_2">
          Neural Network Regressions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Neural Network Regressions" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_3_3_2">
          <span class="md-nav__icon md-icon"></span>
          Neural Network Regressions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/simple-regression/" class="md-nav__link">
        NNR - House Prices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/regression-boston-housing/" class="md-nav__link">
        NNR - Boston Housing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/titanic/" class="md-nav__link">
        NNR - Titanic
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_3_3" type="checkbox" id="__nav_5_3_3_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_3_3">
          Image Classification
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Image Classification" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_3_3_3">
          <span class="md-nav__icon md-icon"></span>
          Image Classification
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/basic-fmnist/" class="md-nav__link">
        Basic Image Classification - FMNIST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/image-classification-dogs-cats/" class="md-nav__link">
        Image Classification - Dogs & Cats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/cnn-fmnist/" class="md-nav__link">
        CNN - FMNIST
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_3_4" type="checkbox" id="__nav_5_3_3_4" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_3_4">
          Natural Language Processing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Natural Language Processing" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_3_3_4">
          <span class="md-nav__icon md-icon"></span>
          Natural Language Processing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/imdb/" class="md-nav__link">
        NLP - IMDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/nlp-1-binary/" class="md-nav__link">
        NLP - Binary-Class Classification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/nlp-2-multi/" class="md-nav__link">
        NLP - Multi-Class Classification
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_3_5" type="checkbox" id="__nav_5_3_3_5" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_3_5">
          Time Series
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Time Series" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_3_3_5">
          <span class="md-nav__icon md-icon"></span>
          Time Series
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../404/" class="md-nav__link">
        Blank
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_3_6" type="checkbox" id="__nav_5_3_3_6" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_3_6">
          Miscellaneous
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Miscellaneous" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_3_3_6">
          <span class="md-nav__icon md-icon"></span>
          Miscellaneous
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/tensorflow/models/utilities/" class="md-nav__link">
        Utility Functions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plant-disease-detection-part-2-build-a-desktop-application" class="md-nav__link">
     Plant Disease Detection: Part 2 Build a desktop application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-expect" class="md-nav__link">
    What to expect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-the-application-layout-and-functionalities" class="md-nav__link">
    Design the application layout and functionalities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-coding" class="md-nav__link">
    Start coding
  </a>
  
    <nav class="md-nav" aria-label="Start coding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structuring-the-project" class="md-nav__link">
    Structuring the Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-application-manager-code" class="md-nav__link">
    The Application Manager Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-gui-with-tkinter" class="md-nav__link">
    Create a GUI with tkinter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-the-backend-algorithm" class="md-nav__link">
    Code the Backend Algorithm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-finished-application" class="md-nav__link">
    Run the Finished Application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    What's next
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <h1>Part 2 - Desktop App</h1>

<h2 id="plant-disease-detection-part-2-build-a-desktop-application"><b> Plant Disease Detection: Part 2 Build a desktop application</b></h2>
<p><img alt="Header" src="../images/index_header.png" /></p>
<p>In this part, we will create a working desktop application that is being able to browse an image and use the power of
machine learning <a href="../part-1-create-ml-model/">(from part 1)</a> to detect what disease the plant has.</p>
<h2 id="what-to-expect"><b>What to expect</b></h2>
<div class="admonition example">
<p class="admonition-title">What to expect</p>
<ul>
<li><a href="#design-layout">Design layout</a></li>
<li><a href="#start-coding">Start Coding</a><ul>
<li><a href="#project-structure">Structuring the Project</a></li>
<li><a href="#manager-code">The Application Manager Code</a></li>
<li><a href="#create-ui">Create a GUI with tkinter</a></li>
<li><a href="#create-backend">Code the Backend Algorithm</a></li>
</ul>
</li>
<li><a href="#run-app">Run the Finished Application</a></li>
<li><a href="#whats-next">What's Next</a></li>
</ul>
</div>
<div class="admonition caution">
<p class="admonition-title">Note</p>
<p>This project was created and tested on macOS. Some features may not work properly on other os.</p>
</div>
<p><br>
<br></p>
<h2 id="design-the-application-layout-and-functionalities"><a name="design-layout"></a><b>Design the application layout and functionalities</b></h2>
<p>In <a href="../part-1-create-ml-model/">part 1</a> we have laid down the first building block of a machine learning application. 
On top of that, in this part, we will create an interface that later will incorporate the machine learning model 
from earlier. To get our application running we will create a minimal viable product that has all the 
necessary functionality. The MVP will include:</p>
<ul>
<li>Browse an image from our computer</li>
<li>Show a preview of the image we want the model to detect</li>
<li>Show the file location where the image is located</li>
<li>Execute a detection command from the UI</li>
<li>Show the model prediction result on the UI</li>
</ul>
<p>Take all the points into account, the application layout should look something like this.</p>
<p><img alt="UI layout" src="../images/part_2-user_interface_design.png" /></p>
<p><br>
<br></p>
<h2 id="start-coding"><a name="start-coding"></a><b>Start coding</b></h2>
<h3 id="structuring-the-project"><a name="project-structure"></a>Structuring the Project</h3>
<p>First, let's take a quick look at what the code structure will look like. To keep everything clean and organized 
we will follow the oop practice. Knowing that we will create 4 python scripts with their respective functions 
listed below. Additionally, we will need a folder in the project directory to store the model we have created 
in part one.</p>
<div class="highlight"><pre><span></span><code>main.py             # main file to run the application
root.py             # root tasks such as keeping the UI open or the behavior when closing the application.
user_interface.py   # handling the user interface such as designs and buttons tasks.
backend.py          # handle all none UI tasks, such as image preprocessing, and predicting plant disease.
model_effb0/        # contains the ml model from part 1
    ...             # model files
</code></pre></div>
<p>We can directly put the trained model files from <a href="../part-1-create-ml-model/">part 1</a> into the <code>model_effb0</code> directory
if it hasn't been done yet.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The complete code of the project can be found on <a href="https://github.com/drliptons/plant-disease-detection">GitHub</a></p>
</div>
<p><br></p>
<h3 id="the-application-manager-code"><a name="manger-code"></a>The Application Manager Code</h3>
<p>Our application will start with the <code>main.py</code> script. Its functionality has nothing more than to start the application 
and keep it running. In our case, it will initialize the Root class in the <code>root.py</code> script. The code in this script will 
only have a few lines as follow;</p>
<details class="success" open="open">
<summary>Complete code of the root.py</summary>
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">root.py</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">import</span> <span class="nn">time</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="kn">from</span> <span class="nn">user_interface</span> <span class="kn">import</span> <span class="n">UserInterface</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="k">class</span> <span class="nc">Root</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">):</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>        <span class="c1"># Window title</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Plant Disease Detection&quot;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>        <span class="c1"># Window configurations</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;600x720&quot;</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#F7FBFC&quot;</span><span class="p">)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>        <span class="c1"># Delay closing window before close</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_close_delay</span><span class="p">)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>        <span class="c1"># Initialize user interface</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ui</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ui</span> <span class="o">=</span> <span class="n">UserInterface</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ui</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span class="k">def</span> <span class="nf">_close_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
</details>
<p>There are a couple of things going on in this code. First we have an <code>__init__</code> function to initialize the 
<code>Root(tk.TK)</code> class which inherit from <code>tk.TK</code>. In this function we will set and stored a few general variable of the 
application. </p>
<ul>
<li><code>self.title("Title")</code>: set application title to <code>Plant Disease Detection</code></li>
<li><code>self.geometry("600x720")</code>: set a fix size of the application to 600 x 720 pixels. 
You can comment this out to have a dynamic size.</li>
<li><code>self.configure(bg="#F7FBFC")</code>: set background color to a light blue color</li>
<li><code>self.protocol('set_protocol', 'command')</code>: here I want to set a delay when closing the application. 
When click close the <code>_close_delay</code> function will be triggered and give a short time of delay
before the application will be terminated.</li>
<li><code>self._ui</code>: create the ui frame to contain all the ui element. Then initialize <code>UserInterface</code>
class into it. The <code>UserInterface</code> class can be found <a href="https://github.com/drliptons/plant-disease-detection-with-tensorflow/blob/main/user_interface.py">here</a>, we will 
revisit it also later on in this page.</li>
</ul>
<p>The second function <code>_close_delay()</code>, is to react when closing the application. In a future version, we might add a 
function to save our work before terminating the application. A short delay of 0.5 seconds has been added prior to 
closing the app. This function also prevent any errors that might occur on the console causes by closing the app. </p>
<p><br></p>
<h3 id="create-a-gui-with-tkinter"><a name="create-ui"></a><b>Create a GUI with tkinter</b></h3>
<p>This script will be the longest code in our project. If you want to skip all the details you can see the full code in 
the section below. </p>
<details class="success" open="open">
<summary>Complete code of user_interface.py</summary>
<table class="highlighttable"><tr><th colspan="2" class="filename"><div class="highlight"><span class="filename">user_interface.py</span></div></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span>
<span class="normal"><a href="#__codelineno-1-34">34</a></span>
<span class="normal"><a href="#__codelineno-1-35">35</a></span>
<span class="normal"><a href="#__codelineno-1-36">36</a></span>
<span class="normal"><a href="#__codelineno-1-37">37</a></span>
<span class="normal"><a href="#__codelineno-1-38">38</a></span>
<span class="normal"><a href="#__codelineno-1-39">39</a></span>
<span class="normal"><a href="#__codelineno-1-40">40</a></span>
<span class="normal"><a href="#__codelineno-1-41">41</a></span>
<span class="normal"><a href="#__codelineno-1-42">42</a></span>
<span class="normal"><a href="#__codelineno-1-43">43</a></span>
<span class="normal"><a href="#__codelineno-1-44">44</a></span>
<span class="normal"><a href="#__codelineno-1-45">45</a></span>
<span class="normal"><a href="#__codelineno-1-46">46</a></span>
<span class="normal"><a href="#__codelineno-1-47">47</a></span>
<span class="normal"><a href="#__codelineno-1-48">48</a></span>
<span class="normal"><a href="#__codelineno-1-49">49</a></span>
<span class="normal"><a href="#__codelineno-1-50">50</a></span>
<span class="normal"><a href="#__codelineno-1-51">51</a></span>
<span class="normal"><a href="#__codelineno-1-52">52</a></span>
<span class="normal"><a href="#__codelineno-1-53">53</a></span>
<span class="normal"><a href="#__codelineno-1-54">54</a></span>
<span class="normal"><a href="#__codelineno-1-55">55</a></span>
<span class="normal"><a href="#__codelineno-1-56">56</a></span>
<span class="normal"><a href="#__codelineno-1-57">57</a></span>
<span class="normal"><a href="#__codelineno-1-58">58</a></span>
<span class="normal"><a href="#__codelineno-1-59">59</a></span>
<span class="normal"><a href="#__codelineno-1-60">60</a></span>
<span class="normal"><a href="#__codelineno-1-61">61</a></span>
<span class="normal"><a href="#__codelineno-1-62">62</a></span>
<span class="normal"><a href="#__codelineno-1-63">63</a></span>
<span class="normal"><a href="#__codelineno-1-64">64</a></span>
<span class="normal"><a href="#__codelineno-1-65">65</a></span>
<span class="normal"><a href="#__codelineno-1-66">66</a></span>
<span class="normal"><a href="#__codelineno-1-67">67</a></span>
<span class="normal"><a href="#__codelineno-1-68">68</a></span>
<span class="normal"><a href="#__codelineno-1-69">69</a></span>
<span class="normal"><a href="#__codelineno-1-70">70</a></span>
<span class="normal"><a href="#__codelineno-1-71">71</a></span>
<span class="normal"><a href="#__codelineno-1-72">72</a></span>
<span class="normal"><a href="#__codelineno-1-73">73</a></span>
<span class="normal"><a href="#__codelineno-1-74">74</a></span>
<span class="normal"><a href="#__codelineno-1-75">75</a></span>
<span class="normal"><a href="#__codelineno-1-76">76</a></span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="kn">import</span> <span class="nn">tkmacosx</span> <span class="k">as</span> <span class="nn">tkmac</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">filedialog</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageTk</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="kn">from</span> <span class="nn">backend</span> <span class="kn">import</span> <span class="n">Backend</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="k">class</span> <span class="nc">UserInterface</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a>        <span class="c1"># Store image and image path</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a>        <span class="c1"># Frame 1: for load and preview to the app</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Source&#39;</span><span class="p">)</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a>        <span class="c1"># Preview image box</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_preview_image_frame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_preview_image_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_in_frame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_preview_image_frame</span><span class="p">)</span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_in_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a>        <span class="c1"># Path label</span>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_path_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Path:&#39;</span><span class="p">)</span>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_path_label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a>        <span class="c1"># Entry box</span>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_path_entry</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_path_entry</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-34" name="__codelineno-1-34"></a>        <span class="c1"># &#39;Browse&#39; and &#39;Detect&#39; button</span>
<a id="__codelineno-1-35" name="__codelineno-1-35"></a>        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;darwin&quot;</span><span class="p">:</span>
<a id="__codelineno-1-36" name="__codelineno-1-36"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span> <span class="o">=</span> <span class="n">tkmac</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#D6E6F2&#39;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s1">&#39;#D6E6F2&#39;</span><span class="p">,</span>
<a id="__codelineno-1-37" name="__codelineno-1-37"></a>                                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_browse_image</span><span class="p">)</span>
<a id="__codelineno-1-38" name="__codelineno-1-38"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-39" name="__codelineno-1-39"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span> <span class="o">=</span> <span class="n">tkmac</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Detect&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#B9D7EA&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_detect_image</span><span class="p">)</span>
<a id="__codelineno-1-40" name="__codelineno-1-40"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-41" name="__codelineno-1-41"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-1-42" name="__codelineno-1-42"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#D6E6F2&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_browse_image</span><span class="p">)</span>
<a id="__codelineno-1-43" name="__codelineno-1-43"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-44" name="__codelineno-1-44"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Detect&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#B9D7EA&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_detect_image</span><span class="p">)</span>
<a id="__codelineno-1-45" name="__codelineno-1-45"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-46" name="__codelineno-1-46"></a>
<a id="__codelineno-1-47" name="__codelineno-1-47"></a>        <span class="c1"># Frame 2: displaying model predicted result</span>
<a id="__codelineno-1-48" name="__codelineno-1-48"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Result&#39;</span><span class="p">)</span>
<a id="__codelineno-1-49" name="__codelineno-1-49"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-50" name="__codelineno-1-50"></a>        <span class="c1"># Result title text</span>
<a id="__codelineno-1-51" name="__codelineno-1-51"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_result_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Result:&#39;</span><span class="p">)</span>
<a id="__codelineno-1-52" name="__codelineno-1-52"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_result_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<a id="__codelineno-1-53" name="__codelineno-1-53"></a>        <span class="c1"># Predicted result text</span>
<a id="__codelineno-1-54" name="__codelineno-1-54"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_output_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Waiting for an image...&#39;</span><span class="p">)</span>
<a id="__codelineno-1-55" name="__codelineno-1-55"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_output_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<a id="__codelineno-1-56" name="__codelineno-1-56"></a>
<a id="__codelineno-1-57" name="__codelineno-1-57"></a>        <span class="c1"># Initialize Backend class</span>
<a id="__codelineno-1-58" name="__codelineno-1-58"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">Backend</span><span class="p">()</span>
<a id="__codelineno-1-59" name="__codelineno-1-59"></a>
<a id="__codelineno-1-60" name="__codelineno-1-60"></a>    <span class="k">def</span> <span class="nf">_show_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-1-61" name="__codelineno-1-61"></a>        <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-1-62" name="__codelineno-1-62"></a>        <span class="n">resize_img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">530</span><span class="p">,</span> <span class="mi">530</span><span class="p">),</span> <span class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span class="p">)</span>
<a id="__codelineno-1-63" name="__codelineno-1-63"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">resize_img</span><span class="p">)</span>
<a id="__codelineno-1-64" name="__codelineno-1-64"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_in_frame</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_image</span><span class="p">)</span>
<a id="__codelineno-1-65" name="__codelineno-1-65"></a>
<a id="__codelineno-1-66" name="__codelineno-1-66"></a>    <span class="k">def</span> <span class="nf">_browse_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-1-67" name="__codelineno-1-67"></a>        <span class="n">fln</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">initialdir</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Browse Image&#39;</span><span class="p">,</span> <span class="n">filetypes</span><span class="o">=</span><span class="p">(</span>
<a id="__codelineno-1-68" name="__codelineno-1-68"></a>            <span class="p">(</span><span class="s1">&#39;JPEG/JPG&#39;</span><span class="p">,</span> <span class="s1">&#39;*.jpg&#39;</span><span class="p">),</span>
<a id="__codelineno-1-69" name="__codelineno-1-69"></a>            <span class="p">(</span><span class="s1">&#39;PNG&#39;</span><span class="p">,</span> <span class="s1">&#39;*.png&#39;</span><span class="p">),</span>
<a id="__codelineno-1-70" name="__codelineno-1-70"></a>            <span class="p">(</span><span class="s1">&#39;All Files&#39;</span><span class="p">,</span> <span class="s1">&#39;*.*&#39;</span><span class="p">)))</span>
<a id="__codelineno-1-71" name="__codelineno-1-71"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">fln</span><span class="p">)</span>
<a id="__codelineno-1-72" name="__codelineno-1-72"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_show_image</span><span class="p">(</span><span class="n">fln</span><span class="p">)</span>
<a id="__codelineno-1-73" name="__codelineno-1-73"></a>
<a id="__codelineno-1-74" name="__codelineno-1-74"></a>    <span class="k">def</span> <span class="nf">_detect_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-1-75" name="__codelineno-1-75"></a>        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">predict_image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<a id="__codelineno-1-76" name="__codelineno-1-76"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_output_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<div class="admonition caution">
<p class="admonition-title">Note</p>
<p>All codes related to the GUI of the application is contained in the <code>user_interface.py</code> file. 
The final application might look different on some devices and os.</p>
</div>
<p>The <code>user_interface.py</code> will control all the UI behavior of the application. From how the app will look like to 
what would happen when clicking on a button. The script itself will have a single class named the <code>UserInterface</code>,
which contains of 4 different functions.</p>
<div class="highlight"><pre><span></span><code>UserInterface           # UserInterface class
    __init__            # initialize the class
    _show_image         # show image after browsing
    _browse_image       # triggerd when click browse button
    _detect_image       # triggerd when click detect button
</code></pre></div>
<p><br></p>
<p><strong><code>__init__()</code></strong> function will initialize the user interface and its variables. The code of this function can be seen 
under the section below.</p>
<details class="- success">
<summary><strong>init</strong> function</summary>
<div class="highlight"><span class="filename">user_interface.py</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="c1"># Store image and image path</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="c1"># Frame 1: for load and preview to the app</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Source&#39;</span><span class="p">)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="c1"># Preview image box</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_preview_image_frame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_preview_image_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_in_frame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_preview_image_frame</span><span class="p">)</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_in_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="c1"># Path label</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_path_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Path:&#39;</span><span class="p">)</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_path_label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a>    <span class="c1"># Entry box</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_path_entry</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_path_entry</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a>    <span class="c1"># &#39;Browse&#39; and &#39;Detect&#39; button</span>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a>    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;darwin&quot;</span><span class="p">:</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span> <span class="o">=</span> <span class="n">tkmac</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#D6E6F2&#39;</span><span class="p">,</span> <span class="n">activebackground</span><span class="o">=</span><span class="s1">&#39;#D6E6F2&#39;</span><span class="p">,</span>
<a id="__codelineno-2-27" name="__codelineno-2-27"></a>                                           <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_browse_image</span><span class="p">)</span>
<a id="__codelineno-2-28" name="__codelineno-2-28"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-29" name="__codelineno-2-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span> <span class="o">=</span> <span class="n">tkmac</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Detect&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#B9D7EA&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_detect_image</span><span class="p">)</span>
<a id="__codelineno-2-30" name="__codelineno-2-30"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-31" name="__codelineno-2-31"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-2-32" name="__codelineno-2-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#D6E6F2&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_browse_image</span><span class="p">)</span>
<a id="__codelineno-2-33" name="__codelineno-2-33"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_browse_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-34" name="__codelineno-2-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Detect&#39;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s1">&#39;#B9D7EA&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_detect_image</span><span class="p">)</span>
<a id="__codelineno-2-35" name="__codelineno-2-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_detect_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-36" name="__codelineno-2-36"></a>
<a id="__codelineno-2-37" name="__codelineno-2-37"></a>    <span class="c1"># Frame 2: displaying model predicted result</span>
<a id="__codelineno-2-38" name="__codelineno-2-38"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Result&#39;</span><span class="p">)</span>
<a id="__codelineno-2-39" name="__codelineno-2-39"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-2-40" name="__codelineno-2-40"></a>    <span class="c1"># Result title text</span>
<a id="__codelineno-2-41" name="__codelineno-2-41"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_result_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Result:&#39;</span><span class="p">)</span>
<a id="__codelineno-2-42" name="__codelineno-2-42"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_result_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<a id="__codelineno-2-43" name="__codelineno-2-43"></a>    <span class="c1"># Predicted result text</span>
<a id="__codelineno-2-44" name="__codelineno-2-44"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_output_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Waiting for an image...&#39;</span><span class="p">)</span>
<a id="__codelineno-2-45" name="__codelineno-2-45"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_output_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<a id="__codelineno-2-46" name="__codelineno-2-46"></a>
<a id="__codelineno-2-47" name="__codelineno-2-47"></a>    <span class="c1"># Initialize Backend class</span>
<a id="__codelineno-2-48" name="__codelineno-2-48"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">Backend</span><span class="p">()</span> 
</code></pre></div>
</details>
<p>We can't finish this part without talking about all the variables in the <code>__init__()</code>. From the design we have 
done earlier, we will now convert all those parts into variables. Let's have a closer look into our design again but 
with the differences that it has been renamed to variables. Here is the picture of our previous design with all 
the variables we have renamed and will be used in the code.</p>
<p><img alt="Overview of ui layout variables" src="../images/part_2-ui_layout_init.png" /></p>
<p><br></p>
<p>The following is a more detailed explanation of those variables from the picture.</p>
<ul>
<li><code>self._frame_1</code>: contains the components to about imagery of the picture that we want to analyze</li>
<li><code>self._preview_image_frame</code>: contains the component of the sample image frame</li>
<li><code>self._in_frame</code>: preview image frame</li>
<li><code>self._path_label</code>: contains the label text "Path"</li>
<li><code>self._path_entry</code>: contains the label text of the sample image path</li>
<li><code>self._browse_button</code>: a button for browsing a sample image</li>
<li><code>self._detect_button</code>: A button for sending a command to start analyzing the health status of the sample picture</li>
<li><code>self._frame_2</code>: Contains the analyzing results from the model after successfully predict the health status of the image </li>
<li><code>self._result_label</code>: contains the label text "Result"</li>
<li><code>self._output_text</code>: contains the output text of the analyzation</li>
<li><code>self._backend</code>: storing the <code>Backend</code> class that is responsible for the analyzation</li>
</ul>
<p><br></p>
<p>Since we have cleared out all the variables in the <code>__init__</code> function, let's take a closer look at the other 
functionalities in the script. The class has 3 more different functions beside of the <code>__init__()</code>, </p>
<ul>
<li><code>_show_image()</code></li>
<li><code>_browse-Image()</code></li>
<li><code>_detect_image()</code></li>
</ul>
<p><br>
<strong>browse_image()</strong> will be the first function that the user has to interact with. It will be triggered when the 
user wants to browse a sample picture. After successfully selecting an image, the function will store the image 
path into a variable called <code>_image_path</code> then it will trigger the <code>_show_image()</code> function to show the user a 
visualization of the selected picture.</p>
<details class="- success">
<summary>browse function</summary>
<div class="highlight"><span class="filename">user_interface.py</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">def</span> <span class="nf">_browse_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>    <span class="n">fln</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">initialdir</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Browse Image&#39;</span><span class="p">,</span> <span class="n">filetypes</span><span class="o">=</span><span class="p">(</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>        <span class="p">(</span><span class="s1">&#39;JPEG/JPG&#39;</span><span class="p">,</span> <span class="s1">&#39;*.jpg&#39;</span><span class="p">),</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>        <span class="p">(</span><span class="s1">&#39;PNG&#39;</span><span class="p">,</span> <span class="s1">&#39;*.png&#39;</span><span class="p">),</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>        <span class="p">(</span><span class="s1">&#39;All Files&#39;</span><span class="p">,</span> <span class="s1">&#39;*.*&#39;</span><span class="p">)))</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">fln</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_show_image</span><span class="p">(</span><span class="n">fln</span><span class="p">)</span>
</code></pre></div>
</details>
<p><br>
<strong>show_image()</strong> will be automatically triggered by the <code>_browser_image()</code>. The function will resize the image 
to fit into the frame and show the image on the GUI. Besides resizing and showing the picture, the function 
will also store the image into the <code>_image</code> variable for further actions.</p>
<details class="- success">
<summary>show image function</summary>
<div class="highlight"><span class="filename">user_interface.py</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">def</span> <span class="nf">_show_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>    <span class="n">resize_img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">530</span><span class="p">,</span> <span class="mi">530</span><span class="p">),</span> <span class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span class="p">)</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">resize_img</span><span class="p">)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_in_frame</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_image</span><span class="p">)</span>
</code></pre></div>
</details>
<p><br>
<strong>detect_image()</strong> is a function to trigger the analysis process of the health status of the image. The function 
will be activated when the user clicked on the <code>Detect</code> button. The function will then call another function in 
the backend class, that has been earlier initialized, to start to analyze the sample image. The function will then 
receive an output from the backend class and show the result on the UI.</p>
<details class="- success">
<summary>detect image function</summary>
<div class="highlight"><span class="filename">user_interface.py</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">def</span> <span class="nf">_detect_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>    <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">predict_image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_path</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_output_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
</details>
<p><br>
Actually, at this point we can try to run our app. However, we need to comment out the lines that are related to 
the <code>backend.py</code> first. Otherwise, it will throw an error. For now, we should be able to browse a sample image and 
display it on the preview frame.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Different devices and os may show slightly different results</p>
</div>
<p><img alt="ui finished picture" src="../images/part_2-ui_finished_preview_image.png" /></p>
<p><br>
<br></p>
<h3 id="code-the-backend-algorithm"><a name="create-backend"></a><b>Code the Backend Algorithm</b></h3>
<p>The <code>backend.py</code> contains and runs the heart of the project. Despite its importance, it hasn't a complex 
functionality. Instead, we have finished all complexations in the <a href="../part-1-create-ml-model/">first part</a> 
when we create the machine learning model.</p>
<p>The script will contain a class that in it will have 4 simple functionalities as listed as follow;</p>
<div class="highlight"><pre><span></span><code>Backend                 # Backend class
    __init__            # initialize the class
    _load_model         # load the ml model when starting the app
    predict_image       # initialize image prediction
    _prepare_image      # prepare the input image for the ml model
</code></pre></div>
<p>If you want to skip all the details and only want the codes, you can find the complete code in the section below.</p>
<details class="success" open="open">
<summary>Complete code of the backend.py</summary>
<div class="highlight"><span class="filename">user_interface.py</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="n">CLASS_NAME</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Potato___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Corn___Common_rust&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>          <span class="s1">&#39;Apple___Apple_scab&#39;</span><span class="p">,</span> <span class="s1">&#39;Soybean___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>          <span class="s1">&#39;Tomato___Tomato_mosaic_virus&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___Septoria_leaf_spot&#39;</span><span class="p">,</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>          <span class="s1">&#39;Tomato___Spider_mites Two-spotted_spider_mite&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___Late_blight&#39;</span><span class="p">,</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>          <span class="s1">&#39;Grape___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Cherry___Powdery_mildew&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>          <span class="s1">&#39;Pepper,_bell___Bacterial_spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Potato___Late_blight&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-10" name="__codelineno-6-10"></a>          <span class="s1">&#39;Corn___Northern_Leaf_Blight&#39;</span><span class="p">,</span> <span class="s1">&#39;Corn___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>          <span class="s1">&#39;Orange___Haunglongbing_(Citrus_greening)&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple___Black_rot&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>          <span class="s1">&#39;Tomato___Target_Spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Potato___Early_blight&#39;</span><span class="p">,</span> <span class="s1">&#39;Squash___Powdery_mildew&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-13" name="__codelineno-6-13"></a>          <span class="s1">&#39;Corn___Cercospora_leaf_spot Gray_leaf_spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Raspberry___healthy&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-14" name="__codelineno-6-14"></a>          <span class="s1">&#39;Tomato___Tomato_Yellow_Leaf_Curl_Virus&#39;</span><span class="p">,</span> <span class="s1">&#39;Peach___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a>          <span class="s1">&#39;Tomato___Early_blight&#39;</span><span class="p">,</span> <span class="s1">&#39;Grape___Leaf_blight_(Isariopsis_Leaf_Spot)&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-16" name="__codelineno-6-16"></a>          <span class="s1">&#39;Strawberry___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Blueberry___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Peach___Bacterial_spot&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-17" name="__codelineno-6-17"></a>          <span class="s1">&#39;Pepper,_bell___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grape___Black_rot&#39;</span><span class="p">,</span> <span class="s1">&#39;Cherry___healthy&#39;</span><span class="p">,</span> 
<a id="__codelineno-6-18" name="__codelineno-6-18"></a>          <span class="s1">&#39;Tomato___Bacterial_spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Background_without_leaves&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberry___Leaf_scorch&#39;</span><span class="p">,</span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>          <span class="s1">&#39;Grape___Esca_(Black_Measles)&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___Leaf_Mold&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple___Cedar_apple_rust&#39;</span><span class="p">]</span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="k">class</span> <span class="nc">Backend</span><span class="p">:</span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_image_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">)</span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a>    <span class="c1"># Create a relative path to the saved model directory</span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a>    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s1">&#39;frozen&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s1">&#39;MEIPASS&#39;</span><span class="p">):</span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a>        <span class="n">application_dir</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">_MEIPASS</span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a>        <span class="n">application_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_model_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">application_dir</span><span class="p">,</span> <span class="s1">&#39;model_effnet-lite4&#39;</span><span class="p">)</span>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a>
<a id="__codelineno-6-31" name="__codelineno-6-31"></a>    <span class="c1"># Reference to the model</span>
<a id="__codelineno-6-32" name="__codelineno-6-32"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-6-33" name="__codelineno-6-33"></a>
<a id="__codelineno-6-34" name="__codelineno-6-34"></a>    <span class="c1"># Load model</span>
<a id="__codelineno-6-35" name="__codelineno-6-35"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_load_model</span><span class="p">()</span>
<a id="__codelineno-6-36" name="__codelineno-6-36"></a>
<a id="__codelineno-6-37" name="__codelineno-6-37"></a><span class="k">def</span> <span class="nf">_load_model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-6-38" name="__codelineno-6-38"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_path</span><span class="p">)</span>
<a id="__codelineno-6-39" name="__codelineno-6-39"></a>
<a id="__codelineno-6-40" name="__codelineno-6-40"></a><span class="k">def</span> <span class="nf">predict_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<a id="__codelineno-6-41" name="__codelineno-6-41"></a>    <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_image</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-6-42" name="__codelineno-6-42"></a>    <span class="n">prob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">img</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-6-43" name="__codelineno-6-43"></a>    <span class="n">c_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>
<a id="__codelineno-6-44" name="__codelineno-6-44"></a>    <span class="n">prob_f</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">prob</span><span class="p">[</span><span class="n">c_idx</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-6-45" name="__codelineno-6-45"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Image category: </span><span class="si">{</span><span class="n">CLASS_NAME</span><span class="p">[</span><span class="n">c_idx</span><span class="p">]</span><span class="si">}</span><span class="s2"> | Probability: </span><span class="si">{</span><span class="n">prob_f</span><span class="si">}</span><span class="s2">%&quot;</span>
<a id="__codelineno-6-46" name="__codelineno-6-46"></a>
<a id="__codelineno-6-47" name="__codelineno-6-47"></a><span class="k">def</span> <span class="nf">_prepare_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<a id="__codelineno-6-48" name="__codelineno-6-48"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-6-49" name="__codelineno-6-49"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">decode_image</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-6-50" name="__codelineno-6-50"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_image_shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<a id="__codelineno-6-51" name="__codelineno-6-51"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">img</span><span class="o">/</span><span class="mf">225.</span>
<a id="__codelineno-6-52" name="__codelineno-6-52"></a>    <span class="k">return</span> <span class="n">img</span>
</code></pre></div>
</details>
<p><strong><code>CLASS_NAME</code></strong> is a static list that contains all the category names of the dataset which has been used to train 
the machine model in <a href="../part-1-create-ml-model/">part 1</a>. For the time being, the class names are being hardcoded.</p>
<details class="- success">
<summary>CLASS_NAME variable</summary>
<div class="highlight"><span class="filename">backend.py</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">CLASS_NAME</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Potato___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Corn___Common_rust&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>              <span class="s1">&#39;Apple___Apple_scab&#39;</span><span class="p">,</span> <span class="s1">&#39;Soybean___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>              <span class="s1">&#39;Tomato___Tomato_mosaic_virus&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___Septoria_leaf_spot&#39;</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>              <span class="s1">&#39;Tomato___Spider_mites Two-spotted_spider_mite&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___Late_blight&#39;</span><span class="p">,</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>              <span class="s1">&#39;Grape___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Cherry___Powdery_mildew&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>              <span class="s1">&#39;Pepper,_bell___Bacterial_spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Potato___Late_blight&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>              <span class="s1">&#39;Corn___Northern_Leaf_Blight&#39;</span><span class="p">,</span> <span class="s1">&#39;Corn___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>              <span class="s1">&#39;Orange___Haunglongbing_(Citrus_greening)&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple___Black_rot&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>              <span class="s1">&#39;Tomato___Target_Spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Potato___Early_blight&#39;</span><span class="p">,</span> <span class="s1">&#39;Squash___Powdery_mildew&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>              <span class="s1">&#39;Corn___Cercospora_leaf_spot Gray_leaf_spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Raspberry___healthy&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-11" name="__codelineno-7-11"></a>              <span class="s1">&#39;Tomato___Tomato_Yellow_Leaf_Curl_Virus&#39;</span><span class="p">,</span> <span class="s1">&#39;Peach___healthy&#39;</span><span class="p">,</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>              <span class="s1">&#39;Tomato___Early_blight&#39;</span><span class="p">,</span> <span class="s1">&#39;Grape___Leaf_blight_(Isariopsis_Leaf_Spot)&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-13" name="__codelineno-7-13"></a>              <span class="s1">&#39;Strawberry___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Blueberry___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Peach___Bacterial_spot&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-14" name="__codelineno-7-14"></a>              <span class="s1">&#39;Pepper,_bell___healthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Grape___Black_rot&#39;</span><span class="p">,</span> <span class="s1">&#39;Cherry___healthy&#39;</span><span class="p">,</span> 
<a id="__codelineno-7-15" name="__codelineno-7-15"></a>              <span class="s1">&#39;Tomato___Bacterial_spot&#39;</span><span class="p">,</span> <span class="s1">&#39;Background_without_leaves&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberry___Leaf_scorch&#39;</span><span class="p">,</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a>              <span class="s1">&#39;Grape___Esca_(Black_Measles)&#39;</span><span class="p">,</span> <span class="s1">&#39;Tomato___Leaf_Mold&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple___Cedar_apple_rust&#39;</span><span class="p">]</span>
</code></pre></div>
</details>
<p><br>
<strong><code>__init__()</code></strong> is where all the variables are being stored at the time of the initialization. It will be called shortly 
after when the application has started. The variables are as the following;</p>
<ul>
<li><code>self._image_shape</code>: image size that confines to the image input size of the model</li>
<li><code>self._model_path</code>: stored a reference to the directory that contains the model</li>
<li><code>self._model</code>: store a reference to the model. Has been called at the initialization through the <code>_load_model()</code></li>
<li><code>self._load_model()</code>: is being called at the initialization to get the model ready to run</li>
</ul>
<details class="- success">
<summary>init function</summary>
<div class="highlight"><span class="filename">backend.py</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_image_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">)</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_model_path</span> <span class="o">=</span> <span class="s1">&#39;./model_effb0&#39;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_load_model</span><span class="p">()</span>
</code></pre></div>
</details>
<p><br>
<strong><code>_load_model()</code></strong> has the functionality to load our machine learning model and store it in the <code>self._model</code> variable. 
It might take a while to load, depending on the size and complexity of the model.</p>
<details class="- success">
<summary>load_model function</summary>
<div class="highlight"><span class="filename">backend.py</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">def</span> <span class="nf">_load_model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_path</span><span class="p">)</span>
</code></pre></div>
</details>
<p><br>
<strong><code>predict_image()</code></strong> is a function that will be called from the <code>user_interface.py</code> script when the user has 
clicked the <code>Detect</code> button on the GUI. The function will trigger the <code>_prepare_image()</code> function, 
to load and preprocess the image to a proper size for the model. Then, the function will predict the health 
status of the sample image and convert its result into a sentence prior to returning the output. The output 
will be sent back to its original function  <code>_detect_image()</code> in the <code>UserInterface</code> class and displaying it to 
the user.</p>
<p>Here is an example of the result that will be returned: <code>Image category: Soybean___healthy | Probabilty: 94.45%</code></p>
<details class="- success">
<summary>predict_image function</summary>
<div class="highlight"><span class="filename">backend.py</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">def</span> <span class="nf">predict_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>    <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_image</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>    <span class="n">prob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">img</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a>    <span class="n">c_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a>    <span class="n">prob_f</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">prob</span><span class="p">[</span><span class="n">c_idx</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Image category: </span><span class="si">{</span><span class="n">CLASS_NAME</span><span class="p">[</span><span class="n">c_idx</span><span class="p">]</span><span class="si">}</span><span class="s2"> | Probability: </span><span class="si">{</span><span class="n">prob_f</span><span class="si">}</span><span class="s2">%&quot;</span>
</code></pre></div>
</details>
<p><br>
**<code>_prepare_image()</code>:  will read the image, from its stored location, and resize it to match the same size and dimension 
as of the input size required by the model. It has been recommended that the input image size for the model should 
have the same size as the one that has been used to train the model.</p>
<details class="- success">
<summary>prepare image function</summary>
<div class="highlight"><span class="filename">backend.py</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">def</span> <span class="nf">_prepare_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">decode_image</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_image_shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>    <span class="n">img</span> <span class="o">=</span> <span class="n">img</span><span class="o">/</span><span class="mf">225.</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a>    <span class="k">return</span> <span class="n">img</span>
</code></pre></div>
</details>
<p><br>
<br></p>
<h2 id="run-the-finished-application"><a name="run-app"></a><b>Run the Finished Application</b></h2>
<p>Now that we finally finished the app, let's run and see what we have accomplished.</p>
<p><img alt="app finished" src="../images/part_2-app_finished.png" /></p>
<p>As we can see at the bottom of the application, a prediction result has been shown as we have expected. 
<b>HOWEVER</b>, the detection result itself hasn't been quite correct yet. The image that has been used is of a grape leaf, 
but the model has detected it as a tomato leaf . By knowing this, we should go back and reevaluate the machine learning
model from <a href="../part-1-create-ml-model/">part 1</a> to see how it can be improved.</p>
<h2 id="whats-next"><a name="whats-next"></a><b>What's next</b></h2>
<p>We have now reached the end of this part. It was quite a journey of creating such a desktop application. 
For now, we can only use it through an IDE which isn't so convenient. In the next <a href="../part-3-make-exe/">part 3</a>, 
we will learn how to convert our code into an executable application and make it independent from an IDE.</p>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../part-1-create-ml-model/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Part 1 - Create ML Model" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Part 1 - Create ML Model
            </div>
          </div>
        </a>
      
      
        
        <a href="../part-3-make-exe/" class="md-footer__link md-footer__link--next" aria-label="Next: Part 3 - Make Executable" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Part 3 - Make Executable
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 - 2022 Mark Schwarz
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["search.suggest", "search.highlight", "search.tabs.link", "content.tabs.link", "navigation.indexes", "navigation.tabs", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.cefbb252.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a5f8ea78.min.js"></script>
      
    
  </body>
</html>